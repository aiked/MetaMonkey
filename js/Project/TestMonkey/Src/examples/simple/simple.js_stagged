
===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

inline( {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:"var multi = .< print('meta'); x = y ? 1 : 2; >.; 	var single = .< print('meta'); >.; 	var multiExpr = .< 1 - 2 + 3; >.; 	var singleExpr = .< x + y; >.; 	var id = .< x; >.;	var duckString = 'test duck';	var duckNum = 1;	var duckBool = true;"}}]} );
===================RESULT==========================
"var multi = .< print('meta'); x = y ? 1 : 2; >.; \tvar single = .< print('meta'); >.; \tvar multiExpr = .< 1 - 2 + 3; >.; \tvar singleExpr = .< x + y; >.; \tvar id = .< x; >.;\tvar duckString = 'test duck';\tvar duckNum = 1;\tvar duckBool = true;";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

inline( genSimpleTests()[0] );
===================RESULT==========================
".< 1 + .~multiExpr; + .@duckString >.";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

inline( genSimpleTests()[1] );
===================RESULT==========================
1 + (1 - 2 + 3) + "test duck";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

inline( {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:"__________________"}}]} );
===================RESULT==========================
"__________________";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

inline( genSimpleTests()[2] );
===================RESULT==========================
".< 2 + .~singleExpr; >.";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

inline( genSimpleTests()[3] );
===================RESULT==========================
2 + (x + y);

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

inline( {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:"__________________"}}]} );
===================RESULT==========================
"__________________";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

inline( genSimpleTests()[4] );
===================RESULT==========================
".< print(.~multi, 2); >.";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

inline( genSimpleTests()[5] );
===================RESULT==========================
print(print("meta"), x = y?1:2, 2);

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

inline( {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:"__________________"}}]} );
===================RESULT==========================
"__________________";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

inline( genSimpleTests()[6] );
===================RESULT==========================
".< print(1, .~single); >.";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

inline( genSimpleTests()[7] );
===================RESULT==========================
print(1, print("meta"));

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

inline( {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:"__________________"}}]} );
===================RESULT==========================
"__________________";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

inline( genSimpleTests()[8] );
===================RESULT==========================
".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >.";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

inline( genSimpleTests()[9] );
===================RESULT==========================
function foo1() {
    print(1);
    print("meta");
    x = y?1:2;
    print(2);
}

;

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

function foo1() {
    print(1);
    print("meta");
    x = y?1:2;
    print(2);
}

inline( {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:"__________________"}}]} );
===================RESULT==========================
"__________________";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

function foo1() {
    print(1);
    print("meta");
    x = y?1:2;
    print(2);
}

inline( genSimpleTests()[10] );
===================RESULT==========================
".< function foo2(){ print(1); .~single; print(2); }; >.";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

function foo1() {
    print(1);
    print("meta");
    x = y?1:2;
    print(2);
}

inline( genSimpleTests()[11] );
===================RESULT==========================
function foo2() {
    print(1);
    print("meta");
    print(2);
}

;

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

function foo1() {
    print(1);
    print("meta");
    x = y?1:2;
    print(2);
}

function foo2() {
    print(1);
    print("meta");
    print(2);
}

inline( {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:"__________________"}}]} );
===================RESULT==========================
"__________________";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

function foo1() {
    print(1);
    print("meta");
    x = y?1:2;
    print(2);
}

function foo2() {
    print(1);
    print("meta");
    print(2);
}

inline( genSimpleTests()[12] );
===================RESULT==========================
".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >.";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

function foo1() {
    print(1);
    print("meta");
    x = y?1:2;
    print(2);
}

function foo2() {
    print(1);
    print("meta");
    print(2);
}

inline( genSimpleTests()[13] );
===================RESULT==========================
(1 - 2 + 3) * x * 2 / (x + y) - (1 - 2 + 3);

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

function foo1() {
    print(1);
    print("meta");
    x = y?1:2;
    print(2);
}

function foo2() {
    print(1);
    print("meta");
    print(2);
}

inline( {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:"__________________"}}]} );
===================RESULT==========================
"__________________";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

function foo1() {
    print(1);
    print("meta");
    x = y?1:2;
    print(2);
}

function foo2() {
    print(1);
    print("meta");
    print(2);
}

inline( genSimpleTests()[14] );
===================RESULT==========================
".< (.~id)[.~single][.@duckBool]; >.";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

function foo1() {
    print(1);
    print("meta");
    x = y?1:2;
    print(2);
}

function foo2() {
    print(1);
    print("meta");
    print(2);
}

inline( genSimpleTests()[15] );
===================RESULT==========================
x[print("meta")][true];

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

function foo1() {
    print(1);
    print("meta");
    x = y?1:2;
    print(2);
}

function foo2() {
    print(1);
    print("meta");
    print(2);
}

inline( {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:"__________________"}}]} );
===================RESULT==========================
"__________________";

==================================================

===================RUNNING========================
function genSimpleTests() {
    var multi = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"AssignmentExpression", operator:"=", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"ConditionalExpression", test:{loc:null, type:"Identifier", name:"y"}, consequent:{loc:null, type:"Literal", value:1}, alternate:{loc:null, type:"Literal", value:2}}}}]};
    var single = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:"meta"}]}}]};
    var multiExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Literal", value:1}, right:{loc:null, type:"Literal", value:2}}, right:{loc:null, type:"Literal", value:3}}}]};
    var singleExpr = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Identifier", name:"x"}, right:{loc:null, type:"Identifier", name:"y"}}}]};
    var id = {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Identifier", name:"x"}}]};
    var duckString = "test duck";
    var duckNum = 1;
    var duckBool = true;
    return [{loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 1 + .~multiExpr; + .@duckString >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:1}, right:meta_escape( false,multiExpr,false)}, right:meta_escapejsvalue( duckString)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< 2 + .~singleExpr; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"+", left:{loc:null, type:"Literal", value:2}, right:meta_escape( false,singleExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(.~multi, 2); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:2}],[{index:0,expr:multi}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< print(1, .~single); >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:meta_escape( true,[{loc:null, type:"Literal", value:1}],[{index:1,expr:single}],false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo1(){ print(.@duckNum); .~multi; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo1"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[meta_escapejsvalue( duckNum)]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:multi}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< function foo2(){ print(1); .~single; print(2); }; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"FunctionDeclaration", id:{loc:null, type:"Identifier", name:"foo2"}, params:[], defaults:[], body:{loc:null, type:"BlockStatement", body:meta_escape( true,[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:1}]}},{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"CallExpression", callee:{loc:null, type:"Identifier", name:"print"}, arguments:[{loc:null, type:"Literal", value:2}]}}],[{index:1,expr:single}],true)}, rest:null, generator:false, expression:false},{loc:null, type:"EmptyStatement"}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< .~multiExpr * .~id * 2 / .~singleExpr - .~multiExpr;  >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"BinaryExpression", operator:"/", left:{loc:null, type:"BinaryExpression", operator:"*", left:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,multiExpr,false), right:meta_escape( false,id,false)}, right:{loc:null, type:"Literal", value:2}}, right:meta_escape( false,singleExpr,false)}, right:meta_escape( false,multiExpr,false)}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"Literal", value:".< (.~id)[.~single][.@duckBool]; >."}}]}, {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"MemberExpression", object:{loc:null, type:"MemberExpression", object:meta_escape( false,id,false), property:meta_escape( false,single,false), computed:true}, property:meta_escapejsvalue( duckBool), computed:true}}]}];
}

function foo1() {
    print(1);
    print("meta");
    x = y?1:2;
    print(2);
}

function foo2() {
    print(1);
    print("meta");
    print(2);
}

function power(x, n) {
    if (n === 1)
        return x;
        else
        return {loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"*", left:meta_escape( false,x,false), right:meta_escape( false,power(x, n - 1),false)}}]};
}

inline( power({loc:null, type:"Program", body:[{loc:null, type:"ExpressionStatement", expression:{loc:null, type:"BinaryExpression", operator:"-", left:{loc:null, type:"Identifier", name:"y"}, right:{loc:null, type:"Literal", value:1}}}]}, 5) );
===================RESULT==========================
(y - 1) * ((y - 1) * ((y - 1) * ((y - 1) * (y - 1))));

==================================================
